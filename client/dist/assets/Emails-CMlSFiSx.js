import{m as H,l as U,n as M,B as re,e as f,v as A,r as j,a as V,j as o,f as W,p as z,q as Y,y as le,o as de,C as Z,Y as ue,D as w,Z as he,I as y,V as pe,z as $,$ as xe,a0 as fe,a1 as me,a2 as ge,L as ve,a3 as Ce}from"./index-3ka0rjJ0.js";import{e as ke,b as L,r as G,f as F,A as _,E as be}from"./api.urls-BBmzGJ79.js";import{u as je,d as Ie,a as Be}from"./DeleteOutlineOutlined-Cl1Y4zI2.js";function ze(e){return H("PrivateSwitchBase",e)}U("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Se=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ye=e=>{const{classes:a,checked:t,disabled:i,edge:s}=e,c={root:["root",t&&"checked",i&&"disabled",s&&`edge${z(s)}`],input:["input"]};return Y(c,ze,a)},$e=M(re)(({ownerState:e})=>f({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Re=M("input",{shouldForwardProp:A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Pe=j.forwardRef(function(a,t){const{autoFocus:i,checked:s,checkedIcon:c,className:d,defaultChecked:n,disabled:C,disableFocusRipple:r=!1,edge:l=!1,icon:m,id:u,inputProps:h,inputRef:p,name:b,onBlur:g,onChange:k,onFocus:I,readOnly:X,required:ee=!1,tabIndex:ae,type:S,value:N}=a,oe=V(a,Se),[T,te]=ke({controlled:s,default:!!n,name:"SwitchBase",state:"checked"}),v=je(),se=x=>{I&&I(x),v&&v.onFocus&&v.onFocus(x)},ne=x=>{g&&g(x),v&&v.onBlur&&v.onBlur(x)},ce=x=>{if(x.nativeEvent.defaultPrevented)return;const q=x.target.checked;te(q),k&&k(x,q)};let B=C;v&&typeof B>"u"&&(B=v.disabled);const ie=S==="checkbox"||S==="radio",R=f({},a,{checked:T,disabled:B,disableFocusRipple:r,edge:l}),O=ye(R);return o.jsxs($e,f({component:"span",className:W(O.root,d),centerRipple:!0,focusRipple:!r,disabled:B,tabIndex:null,role:void 0,onFocus:se,onBlur:ne,ownerState:R,ref:t},oe,{children:[o.jsx(Re,f({autoFocus:i,checked:s,defaultChecked:n,className:O.input,disabled:B,id:ie?u:void 0,name:b,onChange:ce,readOnly:X,ref:p,required:ee,ownerState:R,tabIndex:ae,type:S},S==="checkbox"&&N===void 0?{}:{value:N},h)),T?c:m]}))}),we=Pe,Fe=L(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_e=L(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Me=L(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Le(e){return H("MuiCheckbox",e)}const De=U("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),P=De,Ee=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ne=e=>{const{classes:a,indeterminate:t,color:i,size:s}=e,c={root:["root",t&&"indeterminate",`color${z(i)}`,`size${z(s)}`]},d=Y(c,Le,a);return f({},a,d)},Te=M(we,{shouldForwardProp:e=>A(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,t.indeterminate&&a.indeterminate,a[`size${z(t.size)}`],t.color!=="default"&&a[`color${z(t.color)}`]]}})(({theme:e,ownerState:a})=>f({color:(e.vars||e).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${a.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:le(a.color==="default"?e.palette.action.active:e.palette[a.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},a.color!=="default"&&{[`&.${P.checked}, &.${P.indeterminate}`]:{color:(e.vars||e).palette[a.color].main},[`&.${P.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),Oe=o.jsx(_e,{}),qe=o.jsx(Fe,{}),He=o.jsx(Me,{}),Ue=j.forwardRef(function(a,t){var i,s;const c=de({props:a,name:"MuiCheckbox"}),{checkedIcon:d=Oe,color:n="primary",icon:C=qe,indeterminate:r=!1,indeterminateIcon:l=He,inputProps:m,size:u="medium",className:h}=c,p=V(c,Ee),b=r?l:C,g=r?l:d,k=f({},c,{color:n,indeterminate:r,size:u}),I=Ne(k);return o.jsx(Te,f({type:"checkbox",inputProps:f({"data-indeterminate":r},m),icon:j.cloneElement(b,{fontSize:(i=b.props.fontSize)!=null?i:u}),checkedIcon:j.cloneElement(g,{fontSize:(s=g.props.fontSize)!=null?s:u}),ownerState:k,ref:t,className:W(I.root,h)},p,{classes:I}))}),J=Ue;var D={},Ae=Z;Object.defineProperty(D,"__esModule",{value:!0});var K=D.default=void 0,Ve=Ae(G()),We=o;K=D.default=(0,Ve.default)((0,We.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder");var E={},Ye=Z;Object.defineProperty(E,"__esModule",{value:!0});var Q=E.default=void 0,Ze=Ye(G()),Ge=o;Q=E.default=(0,Ze.default)((0,Ge.jsx)("path",{d:"M14.43 10 12 2l-2.43 8H2l6.18 4.41L5.83 22 12 17.31 18.18 22l-2.35-7.59L22 10z"}),"StarRate");const Je=({subject:e,body:a,date:t,sentBy:i,_id:s,selectedEmails:c,setSelectedEmails:d,starred:n})=>{const C=ue(),{toggleFetchAgain:r}=w(),{call:l}=F(_.toggleStarredEmail),m=async()=>{await l({_id:s,starred:n}),r()},u=()=>{c.includes(s)?d(c.filter(h=>h!==s).map(h=>h)):d([...c,s])};return o.jsxs(he,{children:[o.jsx(J,{onChange:u,checked:c.includes(s),size:"small"}),n?o.jsx(Q,{size:"small",sx:{marginRight:"10px",color:"orange"},onClick:m}):o.jsx(K,{size:"small",sx:{marginRight:"10px"},onClick:m}),o.jsxs(y,{onClick:()=>C(`${pe.view.path}/${s}`),children:[o.jsx($,{sx:{width:"250px",overflow:"hidden"},children:i}),o.jsx(xe,{children:"Inbox"}),o.jsxs($,{children:[e," ",a&&`-${a}`]}),o.jsxs(fe,{children:[new Date(t).getDate(),new Date(t).toLocaleString("default",{month:"long"})]})]})]})},Ke=({message:e})=>o.jsxs(me,{children:[o.jsx($,{children:e.heading}),o.jsx($,{children:e.subHeading}),o.jsx(ge,{})]}),aa=()=>{var u,h;const{openDrawer:e}=w(),{type:a}=ve(),[t,i]=j.useState([]),{fetchAgain:s,toggleFetchAgain:c}=w(),{call:d,response:n,loader:C}=F(_.getEmailFromType),r=F(_.moveEmailsToTrash);j.useEffect(()=>{d({},a)},[a,s]);const l=p=>{var g;const{checked:b}=p.target;i(b?(g=n==null?void 0:n.emails)==null?void 0:g.map(k=>k._id):[])},m=async()=>{a==="trash"&&(t==null?void 0:t.length)>0?await r.call(t,a):(l==null?void 0:l.length)>0&&a!=="trash"&&await r.call(t,a),c()};return o.jsx(y,{style:{marginLeft:e?"250px":"0px",width:"calc(100% - 250px)"},children:C?o.jsx(Ce,{}):o.jsxs(y,{children:[o.jsxs(y,{sx:{padding:"20px 10px 0px 10px",display:"flex",alignItems:"center"},children:[o.jsx(J,{size:"small",onChange:p=>l(p)}),o.jsx(Ie,{onClick:m})]}),o.jsx(Be,{children:(u=n==null?void 0:n.emails)==null?void 0:u.map(p=>o.jsx(Je,{selectedEmails:t,...p,setSelectedEmails:i},p._id))}),((h=n==null?void 0:n.emails)==null?void 0:h.length)===0&&o.jsx(Ke,{message:be[a]})]})})};export{aa as default};
